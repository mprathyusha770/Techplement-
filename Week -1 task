import json

def load_contacts():
    try:
        with open('contacts.json', 'r') as file:
            return json.load(file)
    except FileNotFoundError:
        return {}

def save_contacts(contacts):
    with open('contacts.json', 'w') as file:
        json.dump(contacts, file)

def add_contact(contacts, name, phone, email):
    if name not in contacts:
        contacts[name] = {'phone': phone, 'email': email}
        save_contacts(contacts)
        print(f"Contact {name} added successfully!")
    else:
        print(f"Contact {name} already exists. Use update_contact to modify.")

def search_contact(contacts, name):
    if name in contacts:
        print(f"Contact: {name}\nPhone: {contacts[name]['phone']}\nEmail: {contacts[name]['email']}")
    else:
        print(f"Contact {name} not found.")

def update_contact(contacts, name, phone, email):
    if name in contacts:
        contacts[name]['phone'] = phone
        contacts[name]['email'] = email
        save_contacts(contacts)
        print(f"Contact {name} updated successfully!")
    else:
        print(f"Contact {name} not found. Use add_contact to add a new contact.")

if __name__ == "__main__":
    contacts = load_contacts()

    # Sample usage
    add_contact(contacts, "John Doe", "1234567890", "john.doe@email.com")
    search_contact(contacts, "John Doe")
    update_contact(contacts, "John Doe", "9876543210", "john.doe.new@email.com")
    search_contact(contacts, "John Doe")
